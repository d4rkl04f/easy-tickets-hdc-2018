<html>

<head>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <!-- Left blank on purpose -->
            </section>
            <section>
                ...
            </section>
            <section>
                <h1> Welcome to <b>hdc 2018</b></h1>
                <p>My name is <b>Nick</b>, I hope you enjoy the show...</p>
            </section>
            <section>
                <h1>Designing Successful Data Systems</h1>
            </section>
            <section>
                <section>
                    <h1>Why we are here?</h1>
                </section>
                <section>
                    <ul>
                        <li>(hopefully) Challenge "the cylinder" present in architecture diagrams</li>
                        <li>Brief overview of different Data-System options</li>
                        <li>Evolution of Data-Systems (in a sample application)</li>
                    </ul>
                </section>
                <section>
                    <h3>Takeaways: </h3>
                    <ul>
                        <li>Practical approach to beginning the Data-Systems conversation</li>
                        <li>Small tid-bits throughout, from theory to practice</li>
                    </ul>
                </section>
                <section>
                    <h3>For the audience: </h3>
                    <ul>
                        <li>Visualize the data as it flows through your systems and eventually gets persisted</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2>Credit where credit is due</h2>
                </section>
                <section>
                    <h1>Designing Data-Intensive Applications</h1>
                    <h4>The big ideas behind reliable, scalable, and maintainable systems</h4>
                    <h2>Martin Kleppmann</h2>
                </section>
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/designing-data-intensive-applications.jpg" />
                </section>
                <section>
                    <h3>Content for days</h3>
                    <h3>(Expensive) O'Reilly Book</h3>
                </section>
                <section>
                    <ul>
                        <li>Partitioning</li>
                        <li>Replication</li>
                        <li>Linearizability</li>
                        <li>CAP Theorem</li>
                        <li>Total Order Broadcast</li>
                    </ul>
                </section>
                <section>
                    <img height=90% src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/data-systems-poster.jpg" />
                </section>
                <section>
                    <img height=90% src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/data-systems-map-detail.png" />
                </section>
                <section>
                    <img height=90% src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/partitioning-atoll.png" />
                </section>
                <section>
                    <h1>Marten</h1>
                    <h4>Polyglot persistence with .NET and Postgres</h4>
                    <h2>Jeremy Miller</h2>
                </section>
            </section>
            <section>
                <section>
                    <h2>Data-Systems</h2>
                    <p>tools that provide commonly needed data storage functionality</p>
                </section>
                <section>
                    <ul>
                        <li>A successful abstraction
                            <ul>
                                <li>Developers will not try to build their own...</li>
                            </ul>
                        </li>
                        <li>Responsibilities are blurry</li>
                        <li>Place pressure on <b>application code</b>
                            <ul>
                                <li>A scary concept for developers...</li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>Application Code Pressure</h2>
                    <p>Data-systems are powerful tools that work for many use cases</p>
                    <p>When more than one system is in use, responsibility shifts to <b>application code</b></p>
                </section>
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/search-index.png" />
                </section>
            </section>
            <section>
                <section>
                    <h2>"ilities" of Data-Systems</h2>
                    <p>Reliability, Scalability, Maintainability</p>
                </section>
                <section>
                    <h3>Reliability</h3>
                    <ul>
                        <li>Systems work correctly, even when things go wrong</li>
                        <li>Fault Tolerance
                            <ul>
                                <li>Hardware Errors</li>
                                <li>Software Errors (Application Code!)</li>
                                <li>Human Errors</li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <section>
                    <h3>Scalability</h3>
                    <ul>
                        <li>Systems designed to perform with increased load</li>
                        <li>Describing load
                            <ul>
                                <li>Writes vs. Reads</li>
                                <li>Twitter example</li>
                            </ul>
                        </li>
                        <li>Describing performance
                            <ul>
                                <li>Percentiles</li>
                                <li>Amazon, P999 example</li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/query-performance-spike.png" />
                </section>
                <section>
                    <h3>Maintainability</h3>
                    <ul>
                        <li>Easy to run "smoothly" (Operability)</li>
                        <li>Remove as much complexity as possible (Simplicity)</li>
                        <li>Conducive to future innovation (Evolveability)</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h1>The Cylinder</h1>
                </section>
                <!-- Simple Example -->
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/basic-architecture.png" />
                </section>

                <!-- More Complex Example -->
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/medium-architecture.png" />
                </section>

                <!-- iDesign Example -->
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/idesign-architecture.png" />
                </section>

                <!-- Overblown Example -->
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/overblown-architecture.png" />
                </section>

                <section>
                    <h1>The Ask:</h1>
                    <p>Consider alternative approaches at the bottom of architecture diagrams.</p>
                    <p>Don't put the relational constraint on too early.</p>
                </section>

                <!-- Polyglot Example -->
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/polyglot-architecture.png" />
                </section>

                <section>
                    <h3>ACID</h3>
                    <p>Application Code pressure (already)</p>
                    <ul>
                        <li><i>warm and fuzzies</i></li>
                        <li>Consistency is up to the user</li>
                        <li>Example: Debits and Credits</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h1>Data-System Options</h1>
                </section>
                <section>
                    <h2>The cast of characters</h2>
                    <ul>
                        <li>Relational Database</li>
                        <li>Cache</li>
                        <li>Document Database</li>
                        <li>Event Queue (lightly cut)</li>
                        <li>Graph Database (heavily cut)</li>
                    </ul>
                </section>
                <section>
                    <h3>Relational Database</h3>
                    <ul>
                        <li>Many-to-many relationships</li>
                        <li>Normalization</li>
                        <li>Declarative vs. Imperative</li>
                        <li>Schema-on-write</li>
                    </ul>
                </section>
                <section>
                    <h3>Bill of "Landing"</h3>
                </section>
                <section>
                    <h3>"How" vs "What"</h3>
                </section>
                <section>
                    <h3>Cache</h3>
                    <ul>
                        <li>Redis, Memcached, "Custom", etc.</li>
                        <li>In-memory</li>
                        <li>Flexible</li>
                        <li>Cache invalidation</li>
                    </ul>
                </section>
                <section>
                    <h3>Document Database</h3>
                    <ul>
                        <li>Concepts predates RDBMS</li>
                        <li>Data locality</li>
                        <li>Fast writes</li>
                        <li>Schema-on-read</li>
                        <li>Replication, Partitioning</li>
                    </ul>
                </section>
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/mongo-sharding-replication.png" />
                </section>
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/sql-server-failover.png" />
                </section>
                <section>
                    <h3>Event (Messaging) Database</h3>
                    <ul>
                        <li>Historical querying</li>
                        <li>Complicated workflows</li>
                        <li>Auditing</li>
                    </ul>
                </section>
                <section>
                    <ul>
                        <li>Server is a broker</li>
                        <li>Clients are producers, consumers</li>
                        <li>Producers write messages to the broker</li>
                        <li>Consumers receive messages by reading them from the broker</li>
                    </ul>
                </section>
                <section>
                    <h3>Graph Database</h3>
                    <ul>
                        <li>Nodes and edges</li>
                        <li>Support baked in to popular RDBMS</li>
                    </ul>
                </section>
            </section>
            <section>
                <h1>Data-System Evolution</h1>
            </section>
            <section>
                <section>
                    <h2>Act 1: Relational Beginnings</h2>
                </section>
                <section>
                    <ul>
                        <li>Easy Tickets</li>
                        <li>Shows, Acts, Locations</li>
                        <li>Postgres</li>
                    </ul>
                </section>
                <section>
                    <!-- DATABASE DIAGRAM -->
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/base-schema.png" />
                </section>
                <section>
                    <!-- LOCATIONS PROGRAMMING MODEL -->
                    <p>Locations</p>
                </section>
                <section>
                    <!-- SHOWDETAILS PROGRAMMING MODEL -->
                    <p>ShowDetails</p>
                </section>
                <section>
                    <h2>Impedance Mismatch</h2>
                    <ul>
                        <li>Originated in circuit design and integration</li>
                        <li>Database models leak up in the system's architecture</li>
                    </ul>
                </section>
                <section>
                    <!-- SHOWDETAILS WITH CACHE PROGRAMMING MODEL -->
                    <p>ShowDetails (with Cache)</p>
                </section>
                <section>
                    <!-- CACHE BENEFITS -->
                    <p>Impact of the cache</p>
                </section>
                <section>
                    <h2>Evolution tipping point</h2>
                </section>
                <section>
                    <h2>Change the name of an Act</h2>
                    <ul>
                        <li>Act reflects current information</li>
                        <li>Name change pollutes historical information</li>
                    </ul>
                </section>
                <section>
                    <p>Easy for humans to understand, but adds complexity to the system</p>
                </section>
                <section>
                    <ul>
                        <li>"ActHistory" Entity</li>
                        <li>Generalized "ActChanges" Entity</li>
                        <li>Entity Attribute Value (EAV) Implementation</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2>Act 2: Document Arrival</h2>
                </section>
                <section>
                    <ul>
                        <li>Easy Tickets</li>
                        <li>Tickets</li>
                        <li>(Still) Postgres</li>
                    </ul>
                </section>
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/marten-logo.png" />
                </section>
                <section>
                    <!-- MARTEN INTEGRATED INTO EASY-TICKETS -->
                    <ul>
                        <li>Marten integration</li>
                        <li>ASP.NET Secret Management</li>
                    </ul>
                </section>
                <section>
                    <!-- TICKETS BASE PROGRAMMING MODEL -->
                    <p>Tickets integration</p>
                </section>
                <section>
                    <!-- TICKETS BASE PROGRAMMING MODEL -->
                    <p>Add Ticket Owner</p>
                </section>
                <section>
                    <!-- RADIO GIVEAWAY FEATURE -->
                    <p>VIP Tickets</p>
                </section>
                <section>
                    <h2>Systems of Record</h2>
                    <ul>
                        <li>Source of truth</li>
                        <li>Authoritative version of the data</li>
                        <li><i>typically</i> Normalized</li>
                        <li>What is required to make it a system of record?</li>
                    </ul>
                </section>
                <section>
                    <h2>Derived Data</h2>
                    <p><i>Transformation </i> of data from a system of record</p>
                </section>
                <section>
                    <img src="https://lokigiloa4ec.blob.core.windows.net/easy-tickets/systems-of-record.png" />
                </section>
                <section>
                    <p>Data-Systems are just tools. Up to the application code to make distinctions</p>
                </section>
            </section>
            <section>
                <section>
                    <h2>Act 3: Future with Events</h2>
                </section>
                <section>
                    <ul>
                        <li>Easy Tickets</li>
                        <li><i>quick</i> Events Integration</li>
                    </ul>
                </section>
                <section>
                    <!-- TICKETS BASE PROGRAMMING MODEL -->
                    <p>Act Visit integration</p>
                </section>
            </section>
            <section>
                <section>
                    <h1>Outro</h1>
                </section>
                <section>
                    <ul>
                        <li>More exposure to Data-System options</li>
                        <li>Integration points within an application</li>
                    </ul>
                </section>
                <section>
                    <h1>Explore more shapes!</h1>
                </section>
                <section>
                    <h1>Thanks for attending!</h1>
                    <ul>
                    <li><a href="https://github.com/njebert/easy-tickets-hdc-2018">https://github.com/njebert/easy-tickets-hdc-2018</a></li>
                    <li><a href="https://dataintensive.net/">https://dataintensive.net/</a></li>
                    <li><a href="http://jasperfx.github.io/marten/">http://jasperfx.github.io/marten/</a></li>
                    <li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-2.1&tabs=windows">https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-2.1&tabs=windows</a></li>
                    <li><a href="https://graphviz.gitlab.io/">https://graphviz.gitlab.io/</a></li>
                    <li><a href="http://schemaspy.sourceforge.net/">http://schemaspy.sourceforge.net/</a></li>
                    <li><a href="https://gist.github.com/dpapathanasiou/c9c6236a410e9d018ae0">SchemaSpy a Postgres database</a></li>
                </ul>
                </section>
            </section>
        </div>
    </div>
    <script src="js/reveal.js"></script>
    <script>
        Reveal.initialize({
            width: "100%",
            height: "100%",
            margin: 0,
            minScale: 1,
            maxScale: 1
        });
    </script>
</body>

</html>